

<div class="chat-container">
  <div class="chat-header">
    <h1>ChatBot</h1>
  </div>
  <div #chatArea class="chat-area">
    <!-- <div *ngFor="let message of chatMessages" [ngClass]="{'user-bubble': message.type === 'user', 'bot-bubble': message.type === 'bot'}">

       <div [innerHTML]="message.text"></div>
     </div>-->

    <div   *ngFor="let message of chatMessages" [ngClass]="{'user-bubble': message.type === 'user', 'bot-bubble': message.type === 'bot'}">
      <div class ="chat-message" >
        <ng-container *ngIf="message.type === 'user'" >
          <div class = "indented-div"> <img style = "height: 25px" src = "assets/user.svg" alt="User:"/></div>
        </ng-container>
        <ng-container *ngIf="message.type === 'bot'" style = "word-break:break-word">
          <div class = "indented-div"> <img style = "height: 25px" src = "assets/bot.svg" alt="Bot:"/></div>
        </ng-container>
        <div [innerHTML]="message.text" style = "word-break:break-word"> </div>
        <div class="bot-actions" *ngIf="message.type === 'bot'" >
          <i class="fa fa-thumbs-up" (click)="onThumbsUpClick(message)"></i>
          <i class="fa fa-thumbs-down" (click)="onThumbsDownClick(message)"></i>
        </div>

      </div>

    </div>
  </div>
  <div >
    <div class="category">
      <button
        class="category-button"
        [class.selected]="selectedCategory === 'general'"
        (click)="selectCategory('general')"
      >
        General
      </button>
      <button
        class="category-button"
        [class.selected]="selectedCategory === 'tech'"
        (click)="selectCategory('tech')"
      >
        Tech
      </button>
      <button
        class="category-button"
        [class.selected]="selectedCategory === 'health'"
        (click)="selectCategory('health')"
      >
        Health
      </button>

    </div>
    <form (submit)="sendMessage()">

      <input class="user-input" name="userMessage" placeholder="Type your message..." [(ngModel)]="userMessage"   (input)="onQueryChange()"   (keydown)="onKeyDown($event)"   autocomplete="off"/>

      <button class="send-button" >Send</button>
      <div class="suggestion-container">
        <ul  *ngIf="showSuggestions">
          <li
            *ngFor="let suggestion of suggestions; let i = index"
            [class.selected]="i === selectedSuggestionIndex"
            (click)="onSuggestionClick(suggestion)"
          >
            {{ suggestion }}</li>
        </ul>
      </div>
    </form>
  </div>

</div>

